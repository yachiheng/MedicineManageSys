@using MedicineManageSystem.Models

@model MedicineManageSystem.Models.Pill

@{
    ViewBag.Title = "藥品編輯";
    IEnumerable<Pill_Factory_Category> category = ViewBag.Category;
}

<h2>藥品編輯</h2>


<form action="@Url.Action("Edit")" method="post" enctype="multipart/form-data">

    <div class="form-horizontal">
        <h4>Pill</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            <div class="col-md-2 control-label">藥品編號</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_id, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                @Html.ValidationMessageFor(model => model.P_id, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">藥品名稱</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.P_name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">藥廠名稱</label>
            <div class="col-md-10">
                <select id="藥廠編號" name="藥廠編號" class="form-control">
                    @foreach (var item in category)
                    {
                        <option value="@item.P_pharmaceutical_factory_Id" @(item.P_pharmaceutical_factory_Id == Model.P_pharmaceutical_factory_Id ? "selected" : "")>
                            @item.P_pharmaceutical_factory
                        </option>
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">商品名</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_product_name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.P_product_name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">學名</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_scientific_name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.P_scientific_name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">藥品代碼</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_code, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.P_code, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">適應症</div>
            <div class="col-md-10">
                @Html.EditorFor(model => model.P_remark, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.P_remark, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2 control-label">藥品圖示</div>
            <div class="col-md-10">
                <input type="file" id="fImg" name="fImg" class="form-control" />
                @Html.HiddenFor(model => model.P_photo)
                @if (Model.P_photo == "question.png")
                {
                    @:無藥品圖
                }
                else
                {
                    <img src="~/Images/p/@Model.P_photo" style="width:150px;" />
                }
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="編輯" class="btn btn-default" />
            </div>
        </div>
    </div>
</form>
